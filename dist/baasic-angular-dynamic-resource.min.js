/*
 Baasic AngularJS Dynamic Resource v1.0.1
 (c) 2014-2017 Mono Ltd.  http://baasic.com
 License: MIT
*/
!function(e){var a=e.module("baasic.dynamicResource",["baasic.api"]);a.config(["$provide",function(){}]),function(e,a){"use strict";a.service("baasicDynamicResourceRouteService",["baasicUriTemplateService",function(e){return{find:e.parse("resources/{schemaName}/{?searchQuery,page,rpp,sort,embed,fields}"),get:e.parse("resources/{schemaName}/{id}/{?embed,fields}"),create:e.parse("resources/{schemaName}"),parse:e.parse,acl:{get:e.parse("resources/{schemaName}/{id}/acl/{?fields}"),update:e.parse("resources/{schemaName}/{id}/acl/{?fields}"),deleteByUser:e.parse("resources/{schemaName}/{id}/acl/actions/{accessAction}/users/{user}/"),deleteByRole:e.parse("resources/{schemaName}/{id}/acl/actions/{accessAction}/roles/{role}/")}}}])}(e,a),function(e,a){"use strict";a.service("baasicDynamicResourceService",["baasicApiHttp","baasicApiService","baasicConstants","baasicDynamicResourceRouteService",function(a,r,t,s){return{find:function(t,c){return a.get(s.find.expand(r.findParams(e.extend({schemaName:t},c))))},get:function(t,c,n){return a.get(s.get.expand(r.getParams(c,e.extend({schemaName:t},n))))},create:function(e,c){var n=r.getParams(e,c,"schemaName");return a.post(s.create.expand(n),r.createParams(n)[t.modelPropertyName])},update:function(e,c){var n=r.updateParams(e),i=s.parse(n[t.modelPropertyName].links("put").href).expand(c);return a.put(i,n[t.modelPropertyName])},patch:function(e,c){var n=r.updateParams(e),i=s.parse(n[t.modelPropertyName].links("patch").href).expand(c);return a.patch(i,n[t.modelPropertyName])},remove:function(e,c){var n=r.removeParams(e),i=s.parse(n[t.modelPropertyName].links("delete").href).expand(c);return a.delete(i)},routeService:s,acl:{get:function(r){var t=e.extend({},r);return a.get(s.acl.get.expand(t))},update:function(r){var c=e.extend({},r);return a.put(s.acl.get.expand(c),c[t.modelPropertyName])},removeByUser:function(e,t,c){var n=r.removeParams(c);return n.user=t,n.accessAction=e,a.delete(s.acl.deleteByUser.expand(n))},removeByRole:function(e,t,c){var n=r.removeParams(c);return n.role=t,n.accessAction=e,a.delete(s.acl.deleteByRole.expand(n))}}}}])}(e,a),function(e,a){"use strict";a.service("baasicDynamicSchemaRouteService",["baasicUriTemplateService",function(e){return{find:e.parse("schemas/{?searchQuery,page,rpp,sort,embed,fields}"),get:e.parse("schemas/{name}/{?embed,fields}"),generate:e.parse("schemas/generate"),create:e.parse("schemas"),parse:e.parse}}])}(e,a),function(e,a){"use strict";a.service("baasicDynamicSchemaService",["baasicApiHttp","baasicApiService","baasicConstants","baasicDynamicSchemaRouteService",function(e,a,r,t){return{find:function(r){return e.get(t.find.expand(a.findParams(r)))},get:function(r,s){return e.get(t.get.expand(a.getParams(r,s,"name")))},create:function(s){return e.post(t.create.expand({}),a.createParams(s)[r.modelPropertyName])},update:function(t){var s=a.updateParams(t);return e.put(s[r.modelPropertyName].links("put").href,s[r.modelPropertyName])},remove:function(t){var s=a.removeParams(t);return e.delete(s[r.modelPropertyName].links("delete").href)},generate:function(s){return e.post(t.generate.expand({}),a.createParams(s)[r.modelPropertyName])},routeService:t}}])}(e,a)}(angular);